<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Broadcast Control Panel</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: #fff; padding: 20px; }
        .box { background: #1e1e1e; padding: 20px; border-radius: 8px; border-top: 4px solid #c90000; max-width: 500px; margin: auto; }
        input { width: 100%; padding: 10px; margin: 10px 0; background: #000; color: #fff; border: 1px solid #444; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #c90000; color: #fff; border: none; cursor: pointer; font-weight: bold; margin-bottom: 10px; }
        button:hover { background: #ff0000; }
        h2 { color: #c90000; text-align: center; }
        .label { font-size: 12px; color: #888; text-transform: uppercase; }
    </style>
</head>
<body>

    <div class="box">
        <h2>BROADCAST CONTROL</h2>
        
        <button onclick="sendCommand('TOGGLE_WAITING')">ON/OFF WAITING SCREEN</button>

        <div style="margin-top:20px;">
            <div class="label">YouTube Video ID</div>
            <input type="text" id="vid-id" placeholder="Paste Video ID here (e.g. 0NdX9x0AQSQ)">
            <button onclick="updateVideoId()" style="background:#444;">Update Video ID</button>
        </div>

        <div style="margin-top:20px;">
            <div class="label">Sponsor Images (Paste Links)</div>
            <input type="text" id="sp1" placeholder="Sponsor Image Link 1">
            <input type="text" id="sp2" placeholder="Sponsor Image Link 2">
            <button onclick="updateSponsors()" style="background:#444;">Update Sponsors</button>
            <button onclick="sendCommand('UPDATE_SPONSORS', {images: []})" style="background:#333;">Hide Sponsors</button>
        </div>

        <div style="margin-top:20px;">
            <div class="label">Ticker Text</div>
            <input type="text" id="tick" placeholder="News ticker message...">
            <button onclick="updateTicker()" style="background:#444;">Update Ticker</button>
        </div>
    </div>

    <script>
        function sendCommand(action, extra = {}) {
            localStorage.setItem('broadcast_cmd', JSON.stringify({ action, timestamp: Date.now(), ...extra }));
        }

        function updateVideoId() {
            const id = document.getElementById('vid-id').value;
            if(id) sendCommand('UPDATE_VIDEO_ID', { id });
        }

        function updateSponsors() {
            const s1 = document.getElementById('sp1').value;
            const s2 = document.getElementById('sp2').value;
            const images = [];
            if(s1) images.push(s1);
            if(s2) images.push(s2);
            sendCommand('UPDATE_SPONSORS', { images });
        }

        function updateTicker() {
            const text = document.getElementById('tick').value;
            if(text) sendCommand('UPDATE_TICKER', { text });
        }
    </script>
</body>
</html>
